import{h as i,r as m,a as f,w as h}from"./index.a364b306.js";import{u as y}from"./hooks.32207597.js";function T(r){return i.request({method:"get",url:"/tag",params:r})}function p(){return i.request({method:"get",url:"/tag/all"})}function v(r){return i.request({method:"post",url:"/tag",data:r})}function w(r,e){return i.request({method:"patch",url:"/tag/"+r,data:e})}function A(r){return i.request({method:"delete",url:"/tag/"+r})}function x(r){return i.request({method:"post",url:"/tag/batch",data:r})}function D(){const r=m({page:1,size:10,total:0}),e=f(!1);async function d(n){let a,u,s;try{e.value=!0,a=(await T(n)).data}catch(t){u=!0,a=t.data,s=t.data.msg||t.statusText}finally{e.value=!1}return{data:a,error:u,msg:s}}async function l(n){let a,u,s;try{e.value=!0,a=(await v(n)).data}catch(t){u=!0,a=t.data,s=t.data.msg||t.statusText}finally{e.value=!1}return{data:a,error:u,msg:s}}async function c(n){let a,u,s;try{e.value=!0,a=(await w(n)).data}catch(t){u=!0,a=t.data,s=t.data.msg||t.statusText}finally{e.value=!1}return{data:a,error:u,msg:s}}async function o(n){let a,u,s;try{e.value=!0,a=(await A(n)).data}catch(t){u=!0,a=t.data,s=t.data.msg||t.statusText}finally{e.value=!1}return{data:a,error:u,msg:s}}async function g(n){let a,u,s;try{e.value=!0,a=(await x(n)).data}catch(t){u=!0,a=t.data,s=t.data.msg||t.statusText}finally{e.value=!1}return{data:a,error:u,msg:s}}return{loading:e,pagination:r,getPageTag:d,addTag:l,updateTag:c,deleteTag:o,batchDeleteTag:g}}function P(){const r=f([]),e=y();h(async()=>{try{const{data:l,error:c,msg:o}=await d();if(c){e.show({title:"\u83B7\u53D6\u6570\u636E\u5931\u8D25",message:o});return}r.value=l}catch(l){console.log(l)}});async function d(){let l,c,o;try{l=(await p()).data}catch(g){c=!0,l=g.data,o=g.data.msg||g.statusText}finally{}return{data:l,error:c,msg:o}}return{tagList:r,getAllTag:d}}export{D as a,P as u};
