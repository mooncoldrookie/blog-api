import{a as V,I as A,S as p,w as D,o as r,c as m,b as s,m as S,f as n,g as f,i as e,M as B,af as b,n as C,x as z,j as k,$ as T,a7 as w,t as O,e as $,F as E,v as F,aa as M}from"./index.a364b306.js";import{m as N,p as L,v as j,f as K}from"./menu.fa185c44.js";const P=["value"],G={name:"ItemAdd"},R=Object.assign(G,{props:{modelValue:String,isUpdate:{type:Boolean,default:!1}},emits:["update:modelValue","on-click"],setup(g){const l=g,o=V(!1),u=V(null),i=A(()=>l.isUpdate?"check":"plus"),{onAddOrUpdate:_}=p("input"),y=d=>{d.keyCode===13&&_()},v=d=>{const t=d.srcElement,a=t.value.length;t.focus(),o.value=!0,setTimeout(()=>{t.selectionStart=a,t.selectionEnd=a})};return D(()=>{l.isUpdate&&setTimeout(()=>{u.value.focus()})}),(d,t)=>(r(),m("div",{class:C([[o.value&&"border-gray-500"],"inline-block flex w-fit items-center overflow-hidden rounded-full border p-[2px] pl-2"])},[s("input",S({ref_key:"input",ref:u,type:"text"},d.$attrs,{value:g.modelValue,onFocus:t[0]||(t[0]=a=>v(a)),onBlur:t[1]||(t[1]=a=>o.value=!1),class:"w-96 border-none border-gray-500 py-[6px] focus:border-gray-500 focus:ring-0 focus:ring-offset-0",onInput:t[2]||(t[2]=a=>d.$emit("update:modelValue",a.target.value)),onKeyup:t[3]||(t[3]=a=>y(a))}),null,16,P),n(e(b),{onClick:t[4]||(t[4]=a=>d.$emit("on-click")),size:"n",class:"rounded-full bg-gray-100 p-3 text-xl font-bold"},{default:f(()=>[n(e(B),{icon:e(i)},null,8,["icon"])]),_:1})],2))}}),q=["type"],H={name:"MInput"},J=Object.assign(H,{props:{type:{type:String,default:"text"}},setup(g){return(l,o)=>(r(),m("input",S(l.$attrs,{type:g.type,class:"border-gray-500 py-[6px] focus:border-gray-500 focus:ring-0 focus:ring-offset-0"}),null,16,q))}}),Q=w(" \u64CD\u4F5C "),W={class:"px-1 py-1"},X=s("span",{class:"ml-2"},"\u7F16\u8F91",-1),Y={class:"px-1 py-1"},Z=s("span",{class:"ml-2"},"\u5220\u9664",-1),ee={name:"ButtonGroup"},te=Object.assign(ee,{emits:["on-delete","on-update"],setup(g){return(l,o)=>{const u=z("m-icon");return r(),k(e(K),{as:"div",class:"relative inline-block text-left"},{default:f(()=>[s("div",null,[n(e(N),{class:"inline-flex w-full items-center justify-center rounded bg-gray-100 px-4 py-2 text-sm hover:bg-gray-50 focus:outline-none"},{default:f(()=>[Q,n(u,{icon:"angle-down",class:"ml-2 -mr-1 h-5 w-5 text-violet-200 hover:text-violet-100","aria-hidden":"true"})]),_:1})]),n(T,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:f(()=>[n(e(L),{class:"absolute right-0 z-[1] mt-2 w-36 origin-top-right divide-y divide-gray-100 rounded-md bg-gray-50 shadow"},{default:f(()=>[s("div",W,[n(e(j),null,{default:f(({active:i})=>[s("button",{onClick:o[0]||(o[0]=_=>l.$emit("on-update")),class:C([i?"bg-cyan-500 text-white":"text-black","group flex w-full items-center rounded-md px-2 py-2 text-sm"])},[n(u,{icon:"pen",active:i,class:"mr-2 h-5 w-5","aria-hidden":"true"},null,8,["active"]),X],2)]),_:1})]),s("div",Y,[n(e(j),null,{default:f(({active:i})=>[s("button",{onClick:o[1]||(o[1]=_=>l.$emit("on-delete")),class:C([i?"bg-cyan-500 text-white":"text-black","group flex w-full items-center rounded-md px-2 py-2 text-sm text-rose-500"])},[n(u,{icon:"trash-can",active:i,class:"mr-2 h-5 w-5","aria-hidden":"true"},null,8,["active"]),Z],2)]),_:1})])]),_:1})]),_:1})]),_:1})}}}),se={key:0,class:"h-96 text-gray-400"},ne={class:"mt-48 flex items-center justify-center gap-2 text-3xl"},oe=s("span",{class:"text-xl"},"\u7A7A\u7A7A\u5982\u4E5F",-1),ae={key:1},le={class:"text-sm"},ie={class:"h-8 pl-2 pt-4 pt-2"},ce={key:0,class:"inline-flex items-center gap-4"},re=["checked"],de=s("span",{class:"select-none"},"\u5168\u9009",-1),ue={class:"pb-10"},pe={class:"flex h-6 w-6 items-center justify-center"},fe={class:"w-1/2 break-all line-clamp-1 hover:line-clamp-none"},_e={class:"flex w-1/3 items-center justify-center gap-4"},me={class:"flex h-20 items-center justify-center"},ge={name:"ItemList"},ye=Object.assign(ge,{setup(g){const l=p("data"),{isBatch:o}=p("batch"),{isSelectAll:u,toggleSelectAll:i}=p("selectAll"),{selectedData:_,setSelected:y}=p("selected"),{onDelete:v,onUpdate:d}=p("buttonOperation"),t=p("pagination"),a=()=>{window.scrollTo(0,0)};return(U,h)=>{const I=z("a-pagination");return e(l).length===0?(r(),m("div",se,[s("div",ne,[n(e(B),{icon:"empty-set"}),oe])])):(r(),m("div",ae,[s("div",le,"\u5171 "+O(e(t).total)+" \u6761\u6570\u636E",1),s("div",ie,[e(o)?(r(),m("label",ce,[s("input",{type:"checkbox",checked:e(u),onChange:h[0]||(h[0]=(...c)=>e(i)&&e(i)(...c))},null,40,re),de])):$("",!0)]),s("div",ue,[(r(!0),m(E,null,F(e(l),c=>(r(),m("div",{key:c.id,class:"mb-4 flex min-h-[64px] items-center gap-3 border-b border-b-gray-100 p-1 transition"},[s("div",pe,[e(o)?(r(),k(e(J),{key:0,type:"checkbox",checked:e(_).map(x=>x.id).includes(c.id),onChange:x=>e(y)(x,c)},null,8,["checked","onChange"])):$("",!0)]),s("div",fe,O(c.name),1),s("div",_e,[n(e(te),{onOnDelete:x=>e(v)(c),onOnUpdate:x=>e(d)(c)},null,8,["onOnDelete","onOnUpdate"])])]))),128))]),s("div",me,[n(I,{current:e(t).page,"onUpdate:current":h[1]||(h[1]=c=>e(t).page=c),pageSize:e(t).size,"onUpdate:pageSize":h[2]||(h[2]=c=>e(t).size=c),total:e(t).total,"hide-on-single-page":"",onChange:a},null,8,["current","pageSize","total"])])]))}}}),he={class:"fixed sticky top-16 z-20 flex items-center gap-6 bg-white py-4"},ve=w(" \u53D6\u6D88\u7F16\u8F91 "),xe=w("\u6279\u91CF\u5220\u9664"),be={class:"p-4"},ke={name:"ManagerViewLayout"},Ce=Object.assign(ke,{setup(g){const l=p("data"),{isBatch:o,toggleBatch:u,batchDelete:i}=p("batch"),{inputValue:_,isUpdate:y,onAddOrUpdate:v,onCancelUpdate:d}=p("input");return(t,a)=>(r(),m("div",null,[s("div",he,[n(e(R),{modelValue:e(_),"onUpdate:modelValue":a[0]||(a[0]=U=>M(_)?_.value=U:null),"is-update":e(y),onOnClick:e(v)},null,8,["modelValue","is-update","onOnClick"]),e(y)?(r(),k(e(b),{key:0,onClick:e(d),class:"w-20"},{default:f(()=>[ve]),_:1},8,["onClick"])):$("",!0),n(e(b),{disabled:e(l).length===0,onClick:e(u),class:"w-20"},{default:f(()=>[w(O(e(o)?"\u53D6 \u6D88":"\u6279\u91CF\u64CD\u4F5C"),1)]),_:1},8,["disabled","onClick"]),e(o)?(r(),k(e(b),{key:1,bg:"r",onClick:e(i)},{default:f(()=>[xe]),_:1},8,["onClick"])):$("",!0)]),s("div",be,[n(e(ye))])]))}});export{Ce as _};
