var j=Object.defineProperty,K=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var F=(e,n,l)=>n in e?j(e,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[n]=l,y=(e,n)=>{for(var l in n||(n={}))V.call(n,l)&&F(e,l,n[l]);if(C)for(var l of C(n))W.call(n,l)&&F(e,l,n[l]);return e},O=(e,n)=>K(e,U(n));import{A as D,w as E,B as m,a as x,C as H,D as M,E as _,G as J,H as Q,I as R,J as q,K as P,L as w,N,O as z,P as A,Q as G,R as h,S as X,T as I,U as Y,V as Z,W as $}from"./index.a364b306.js";function ee(e){throw new Error("Unexpected object: "+e)}var g=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(g||{});function te(e,n){let l=n.resolveItems();if(l.length<=0)return null;let c=n.resolveActiveIndex(),t=c!=null?c:-1,p=(()=>{switch(e.focus){case 0:return l.findIndex(u=>!n.resolveDisabled(u));case 1:{let u=l.slice().reverse().findIndex((i,v,b)=>t!==-1&&b.length-v-1>=t?!1:!n.resolveDisabled(i));return u===-1?u:l.length-1-u}case 2:return l.findIndex((u,i)=>i<=t?!1:!n.resolveDisabled(u));case 3:{let u=l.slice().reverse().findIndex(i=>!n.resolveDisabled(i));return u===-1?u:l.length-1-u}case 4:return l.findIndex(u=>n.resolveId(u)===e.id);case 5:return null;default:ee(e)}})();return p===-1?c:p}function L(e,n){if(e)return e;let l=n!=null?n:"button";if(typeof l=="string"&&l.toLowerCase()==="button")return"button"}function ae(e,n){let l=x(L(e.value.type,e.value.as));return D(()=>{l.value=L(e.value.type,e.value.as)}),E(()=>{var c;l.value||!m(n)||m(n)instanceof HTMLButtonElement&&!((c=m(n))!=null&&c.hasAttribute("type"))&&(l.value="button")}),l}function ne({container:e,accept:n,walk:l,enabled:c}){E(()=>{let t=e.value;if(!t||c!==void 0&&!c.value)return;let p=H(e);if(!p)return;let u=Object.assign(v=>n(v),{acceptNode:n}),i=p.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;i.nextNode();)l(i.currentNode)})}var le=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(le||{}),ue=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ue||{});function re(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let B=Symbol("MenuContext");function T(e){let n=X(B,null);if(n===null){let l=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,T),l}return n}let ie=M({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:n,attrs:l}){let c=x(1),t=x(null),p=x(null),u=x([]),i=x(""),v=x(null),b=x(1);function d(s=r=>r){let r=v.value!==null?u.value[v.value]:null,o=Y(s(u.value.slice()),S=>m(S.dataRef.domRef)),f=r?o.indexOf(r):null;return f===-1&&(f=null),{items:o,activeItemIndex:f}}let a={menuState:c,buttonRef:t,itemsRef:p,items:u,searchQuery:i,activeItemIndex:v,activationTrigger:b,closeMenu:()=>{c.value=1,v.value=null},openMenu:()=>c.value=0,goToItem(s,r,o){let f=d(),S=te(s===g.Specific?{focus:g.Specific,id:r}:{focus:s},{resolveItems:()=>f.items,resolveActiveIndex:()=>f.activeItemIndex,resolveId:k=>k.id,resolveDisabled:k=>k.dataRef.disabled});i.value="",v.value=S,b.value=o!=null?o:1,u.value=f.items},search(s){let r=i.value!==""?0:1;i.value+=s.toLowerCase();let o=(v.value!==null?u.value.slice(v.value+r).concat(u.value.slice(0,v.value+r)):u.value).find(S=>S.dataRef.textValue.startsWith(i.value)&&!S.dataRef.disabled),f=o?u.value.indexOf(o):-1;f===-1||f===v.value||(v.value=f,b.value=1)},clearSearch(){i.value=""},registerItem(s,r){let o=d(f=>[...f,{id:s,dataRef:r}]);u.value=o.items,v.value=o.activeItemIndex,b.value=1},unregisterItem(s){let r=d(o=>{let f=o.findIndex(S=>S.id===s);return f!==-1&&o.splice(f,1),o});u.value=r.items,v.value=r.activeItemIndex,b.value=1}};return _([t,p],(s,r)=>{var o;c.value===0&&(a.closeMenu(),Z(r,$.Loose)||(s.preventDefault(),(o=m(t))==null||o.focus()))}),J(B,a),Q(R(()=>q(c.value,{[0]:P.Open,[1]:P.Closed}))),()=>{let s={open:c.value===0};return w({props:e,slot:s,slots:n,attrs:l,name:"Menu"})}}}),ve=M({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"}},setup(e,{attrs:n,slots:l,expose:c}){let t=T("MenuButton"),p=`headlessui-menu-button-${N()}`;c({el:t.buttonRef,$el:t.buttonRef});function u(d){switch(d.key){case I.Space:case I.Enter:case I.ArrowDown:d.preventDefault(),d.stopPropagation(),t.openMenu(),h(()=>{var a;(a=m(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem(g.First)});break;case I.ArrowUp:d.preventDefault(),d.stopPropagation(),t.openMenu(),h(()=>{var a;(a=m(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem(g.Last)});break}}function i(d){switch(d.key){case I.Space:d.preventDefault();break}}function v(d){e.disabled||(t.menuState.value===0?(t.closeMenu(),h(()=>{var a;return(a=m(t.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(d.preventDefault(),d.stopPropagation(),t.openMenu(),re(()=>{var a;return(a=m(t.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let b=ae(R(()=>({as:e.as,type:n.type})),t.buttonRef);return()=>{var d;let a={open:t.menuState.value===0},s={ref:t.buttonRef,id:p,type:b.value,"aria-haspopup":!0,"aria-controls":(d=m(t.itemsRef))==null?void 0:d.id,"aria-expanded":e.disabled?void 0:t.menuState.value===0,onKeydown:u,onKeyup:i,onClick:v};return w({props:y(y({},e),s),slot:a,attrs:n,slots:l,name:"MenuButton"})}}}),ce=M({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:n,slots:l,expose:c}){let t=T("MenuItems"),p=`headlessui-menu-items-${N()}`,u=x(null);c({el:t.itemsRef,$el:t.itemsRef}),ne({container:R(()=>m(t.itemsRef)),enabled:R(()=>t.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function i(a){var s;switch(u.value&&clearTimeout(u.value),a.key){case I.Space:if(t.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),t.search(a.key);case I.Enter:if(a.preventDefault(),a.stopPropagation(),t.activeItemIndex.value!==null){let r=t.items.value[t.activeItemIndex.value];(s=m(r.dataRef.domRef))==null||s.click()}t.closeMenu(),h(()=>{var r;return(r=m(t.buttonRef))==null?void 0:r.focus({preventScroll:!0})});break;case I.ArrowDown:return a.preventDefault(),a.stopPropagation(),t.goToItem(g.Next);case I.ArrowUp:return a.preventDefault(),a.stopPropagation(),t.goToItem(g.Previous);case I.Home:case I.PageUp:return a.preventDefault(),a.stopPropagation(),t.goToItem(g.First);case I.End:case I.PageDown:return a.preventDefault(),a.stopPropagation(),t.goToItem(g.Last);case I.Escape:a.preventDefault(),a.stopPropagation(),t.closeMenu(),h(()=>{var r;return(r=m(t.buttonRef))==null?void 0:r.focus({preventScroll:!0})});break;case I.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(t.search(a.key),u.value=setTimeout(()=>t.clearSearch(),350));break}}function v(a){switch(a.key){case I.Space:a.preventDefault();break}}let b=z(),d=R(()=>b!==null?b.value===P.Open:t.menuState.value===0);return()=>{var a,s;let r={open:t.menuState.value===0},o={"aria-activedescendant":t.activeItemIndex.value===null||(a=t.items.value[t.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(s=m(t.buttonRef))==null?void 0:s.id,id:p,onKeydown:i,onKeyup:v,role:"menu",tabIndex:0,ref:t.itemsRef};return w({props:y(y({},e),o),slot:r,attrs:n,slots:l,features:A.RenderStrategy|A.Static,visible:d.value,name:"MenuItems"})}}}),de=M({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1}},setup(e,{slots:n,attrs:l,expose:c}){let t=T("MenuItem"),p=`headlessui-menu-item-${N()}`,u=x(null);c({el:u,$el:u});let i=R(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===p:!1),v=R(()=>({disabled:e.disabled,textValue:"",domRef:u}));D(()=>{var r,o;let f=(o=(r=m(u))==null?void 0:r.textContent)==null?void 0:o.toLowerCase().trim();f!==void 0&&(v.value.textValue=f)}),D(()=>t.registerItem(p,v)),G(()=>t.unregisterItem(p)),E(()=>{t.menuState.value===0&&(!i.value||t.activationTrigger.value!==0&&h(()=>{var r,o;return(o=(r=m(u))==null?void 0:r.scrollIntoView)==null?void 0:o.call(r,{block:"nearest"})}))});function b(r){if(e.disabled)return r.preventDefault();t.closeMenu(),h(()=>{var o;return(o=m(t.buttonRef))==null?void 0:o.focus({preventScroll:!0})})}function d(){if(e.disabled)return t.goToItem(g.Nothing);t.goToItem(g.Specific,p)}function a(){e.disabled||i.value||t.goToItem(g.Specific,p,0)}function s(){e.disabled||!i.value||t.goToItem(g.Nothing)}return()=>{let{disabled:r}=e,o={active:i.value,disabled:r};return w({props:O(y({},e),{id:p,ref:u,role:"menuitem",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,onClick:b,onFocus:d,onPointermove:a,onMousemove:a,onPointerleave:s,onMouseleave:s}),slot:o,attrs:l,slots:n,name:"MenuItem"})}}});export{ie as f,ve as m,ce as p,de as v};
